$.fn.sortTable=function(){function t(t){function e(t,e,a){for(var s=[],r=0;r<i.length;r++)s.push(i[r]);s.sort(function(l,i){var s=$(l.cells[a]).data("value")||$(l.cells[a]).text(),r=$(i.cells[a]).data("value")||$(i.cells[a]).text();return n(t,s,r)*e});for(var r=0;r<s.length;r++)l.appendChild(s[r])}function n(t,e,n){switch(t){case"num":return e-n;case"string":return e.localeCompare(n);default:return new Date(e.split("-").join("/")).getTime()-new Date(n.split("-").join("/")).getTime()}}for(var l=t.tBodies[0],a=t.tHead.rows[0].cells,i=l.rows,s=0;s<a.length;s++)a[s].flag=1,a[s].onclick=function(){this.flag=-this.flag,e(this.getAttribute("data-type")||"num",this.flag,this.cellIndex)}}var e=$(this);e.each(function(){t($(this)[0])})};