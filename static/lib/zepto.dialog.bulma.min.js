!function(t){function n(n,i){i=i||{},e(t.extend({},{title:"消息提示",content:n,button:["取消","确认"]},i,{callback:function(t){(void 0==i.callback||i.callback&&i.callback(t))&&e("hide")}}))}var i=function(){return'<div id="dialog-modal" class="modal"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title"></p><button class="delete" aria-label="close"></button></header><div class="modal-card-body"><div class="content dialog-text"></div></div><footer class="modal-card-foot is-right buttons"><a class="button btn-0">取消</a><a class="button btn-1">确认</a><a class="button btn-2">确认</a></footer></div></div>'},a=function(){return'<div class="notification" id="dialog-toast" style="position: fixed;top:30px;max-width:360px;left:50%;transform: translateX(-50%)"><button class="delete"></button><span class="notify-text"></span></div>'},e=function(n){function a(){d.fadeOut(200,function(){d.removeClass("is-active").remove()})}function e(){return d=t(i()).appendTo(document.body),d.find(".delete").on("click",a),d}function o(n,i,a){n?d.find(".btn-"+i).attr("i",i).html(n).show().off("click").on("click",function(){a&&a(t(this).attr("i"))}):d.find(".btn-"+i).hide()}var d=t("#dialog-modal");if(0==d.length&&e(),"hide"==n||"hide"==n.message)return void a();n=t.extend({title:"",button:["确认"]},n),n.title?d.find(".modal-card-title").html(n.title).parent().show():d.find("header").hide(),n.content&&d.find(".dialog-text").html(n.content);for(var l=0;l<3;l++)o(n.button[l]||"",l,n.callback);"undefined"!=typeof n.class?d.addClass(n.class):d.removeClass(),d.fadeIn(200).addClass("is-active")};window.alert=function(n,i){if(i&&1==i)return window._alert(n);if("hide"==n)return e("hide"),!0;i=t.extend({title:"消息提示",content:n,button:["确认"]},i||{});var a=t.extend({},i,{callback:function(t){return!(i.callback&&!i.callback(t))&&(e("hide"),!0)}});e(a)},window.toast=function(n,i,e,o){function d(){c.fadeOut(100,function(){c.remove()})}function l(){return c=t(a()).appendTo(document.body),c.find(".delete").on("click",d),c}var c=t("#dialog-toast");if("isshow"==n)return 0!=c.length&&c.is(":visible");if("hide"==n)return void(c.length>0&&d());switch(0==c.length&&l(),c.show().fadeIn(100),n&&c.find(".notify-text").html(n),i){case"error":case"fail":c[0].className="notification is-danger";break;default:c[0].className="notification is-link"}return e||(e=1500),e>0&&setTimeout(function(){d(),o&&o(c)},e),c},window._confirm=window.confirm,window.confirm=n,window._alert=window.alert,window.alert=alert,window.dialog=e}(Zepto||jQuery||$);